% proccesing data  of webermetr
%аппроксимация данных из файла "12А" и производной на установке фарадея (димы)

% figure
% hold on;

n=5;
p=polyfit(a1(1:41,1),a1(1:41,2),n);
% plot(a1(1:41,1),a1(:,2),'o','color','k')
plot(a1(1:41,1),polyval(p, a1(1:41,1)),'color','r')
% plot(a1(1:41,1),polyval(p, a1(1:41,1)),a1(1:41,1),a1(:,2),'o','color','k')

% plot(a1(1:41,1),-0.00015*a1(1:41,1).^4+0.0154*a1(1:41,1).^3-0.4907*a1(1:41,1).^2+0.5481*a1(1:41,1)+212.1052)

% plot(a1(1:41,1),a1(:,2),'o')

% diff(polyval(p, a1(1:41,1))

% p=polyfit(a1(1:40,1),diff(a1(1:41,2)),n);
% plot(a1(1:40,1),abs(polyval(p, a1(1:40,1))),a1(1:40,1),abs(diff(a1(:,2))))

%----------
%{
a1=[0	212
1	212
2	211
3	210
4	207
5	205
6	201
7	197
8	193
9	188
10	183
11	177
12	171
13	166
14	160
15	154
16	148
17	142
18	137
19	132
20	126
21	121
22	116
23	112
24	107
25	102
26	98
27	94
28	90
29	87
30	83
31	79
32	76
33	73
34	70
35	67
36	65
37	62
38	60
39	57
40	55
];
a2=[0	211
1	211
2	211
3	210
4	208
5	205
6	202
7	198
8	194
9	189
10	183
11	177
12	172
13	166
14	160
15	154
16	148
17	142
18	137
19	131
20	126
21	121
22	116
23	111
24	107
25	102
26	98
27	94
28	90
29	86
30	82
31	79
32	76
33	73
34	70
35	67
36	64
37	62
38	60
39	57
40	55
];
a3=[0	213
1	213
2	213
3	212
4	212
5	210
6	206
7	202
8	198
9	193
10	187
11	181
12	175
13	168
14	162
15	156
16	150
17	145
18	139
19	133
20	127
21	122
22	117
23	112
24	107
25	103
26	99
27	94
28	90
29	87
30	83
31	79
32	76
33	73
34	70
35	67
36	65
37	62
38	60
39	57
40	55
];

fi=[1 8
    2 18
    3 25
    4 36
    5 46
    6 58
    7 74
    8 78
    9 86
    10 94
    11 110
    12 115
    13 125
    14  145
    15 150
    16 125];
d=11.7e-3;
mu0=pi*4e-7;
fi2=[4 10
    10.2 26
    15 40
    19.5 48
    24.7 64
    29.9 76
    35.4 92
    39.7 102];
h=fi2(:,2)*4/(mu0*pi*d^2);
b(:,2)=fi(:,2)/(pi*d^2);
b(:,1)=[1:16]*7.5e5/40;
plot(b(:,1),b(:,2),'o-')
%}